"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[530],{1644:function(e,t,n){n.d(t,{T:function(){return a}});var o=n(5893),r=n(2734),i=n(1664),l=n.n(i),s=n(3795);let a=()=>{let e=(0,r.Z)();return e.palette.primary.main,(0,o.jsx)(s.Z,{component:l(),href:"/",children:(0,o.jsx)("img",{src:"/assets/logos/main-logo.png",alt:"intgrow_logo"})})}},734:function(e,t,n){n.d(t,{L:function(){return s}});var o=n(2729),r=n(4096),i=n(948);function l(){let e=(0,o._)([""]);return l=function(){return e},e}let s=(0,i.ZP)(r.Z)(l())},926:function(e,t,n){n.d(t,{a:function(){return i}});var o=n(7294),r=n(261);let i=()=>(0,o.useContext)(r.Vo)},7495:function(e,t,n){n.d(t,{ev:function(){return x},mb:function(){return f}});var o=n(5893),r=n(8964),i=n(9047),l=n(6223),s=n(472),a=n(9396),c=n(2643),d=n(3922),u=n(1427),h=n(4186),p=n(3219);let x=[{title:"Dashboard",path:"/",icon:(0,o.jsx)(p.Z,{fontSize:"small",children:(0,o.jsx)(l.Z,{})})},{title:"HS Code Finder",path:"/hscodefinder",icon:(0,o.jsx)(p.Z,{fontSize:"small",children:(0,o.jsx)(a.Z,{})})},{title:"Duty Calculator",path:"/dutycalculator",icon:(0,o.jsx)(p.Z,{fontSize:"small",children:(0,o.jsx)(c.Z,{})})},{title:"Duty Saver Pro",path:"/dutysaver",icon:(0,o.jsx)(p.Z,{fontSize:"small",children:(0,o.jsx)(s.Z,{})})},{title:"Profile Settings",path:"/settings",icon:(0,o.jsx)(p.Z,{fontSize:"small",children:(0,o.jsx)(r.Z,{})})},{title:"HSN History",path:"/hsn-history",icon:(0,o.jsx)(p.Z,{fontSize:"small",children:(0,o.jsx)(u.Z,{})})},{title:"Import Duty History",path:"/dutycalc-history",icon:(0,o.jsx)(p.Z,{fontSize:"small",children:(0,o.jsx)(c.Z,{})})},{title:"Duty Saver History",path:"/fta-history",icon:(0,o.jsx)(p.Z,{fontSize:"small",children:(0,o.jsx)(h.Z,{})})},{title:"Home",path:"/home",icon:(0,o.jsx)(p.Z,{fontSize:"small",children:(0,o.jsx)(i.Z,{})})}],f=[{title:"HS Code Finder",value:"used_hscode",icon:(0,o.jsx)(p.Z,{fontSize:"small",children:(0,o.jsx)(a.Z,{})})},{title:"Duty Calculator",value:"used_duty",icon:(0,o.jsx)(p.Z,{fontSize:"small",children:(0,o.jsx)(c.Z,{})})},{title:"Duty Saver Pro",value:"used_fta",icon:(0,o.jsx)(p.Z,{fontSize:"small",children:(0,o.jsx)(d.Z,{})})}]},5530:function(e,t,n){n.d(t,{A:function(){return z}});var o,r=n(5893),i=n(7294),l=n(9332),s=n(948),a=n(1163),c=n(5697),d=n.n(c),u=n(261);let h=e=>{let{children:t}=e,n=(0,a.useRouter)(),o=(0,i.useRef)(!1),[r,l]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{if(!n.isReady||o.current)return;o.current=!0;let e=window.localStorage.getItem("access_token"),t=!(0,u.pw)(e),r=(0,u.pw)(e);!t&&r?(window.localStorage.removeItem("authenticated"),window.localStorage.removeItem("access_token"),window.localStorage.removeItem("points"),console.log("Not authenticated, redirecting"),n.replace({pathname:"/auth/login",query:"/"!==n.asPath?{continueUrl:n.asPath}:void 0}).catch(console.error)):l(!0)},[n.isReady]),r)?t:null};h.propTypes={children:d().node};var p=n(1664),x=n.n(p),f=n(8396),m=n(7357),g=n(6447),j=n(7720),Z=n(7533);n(1644);var w=n(734),y=n(7495),b=n(6747);let S=e=>{let{active:t=!1,disabled:n,external:o,icon:i,path:l,title:s}=e,a=l?o?{component:"a",href:l,target:"_blank"}:{component:x(),href:l}:{};return(0,r.jsx)("li",{children:(0,r.jsxs)(b.Z,{sx:{alignItems:"center",borderRadius:1,display:"flex",justifyContent:"flex-start",pl:"12px",pr:"12px",py:"8px",textAlign:"left",width:"100%",...t&&{backgroundColor:"rgba(255, 255, 255, 0.04)"},"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.04)"}},...a,children:[i&&(0,r.jsx)(m.Z,{component:"span",sx:{alignItems:"center",color:"neutral.400",display:"inline-flex",justifyContent:"center",mr:2,...t&&{color:"primary.main"}},children:i}),(0,r.jsx)(m.Z,{component:"span",sx:{color:"common.white",flexGrow:1,fontFamily:e=>e.typography.fontFamily,fontSize:14,fontWeight:600,lineHeight:"normal",whiteSpace:"nowrap",...t&&{color:"common.white"},...n&&{color:"neutral.500"}},children:s})]})})};S.propTypes={active:d().bool,disabled:d().bool,external:d().bool,icon:d().node,path:d().string,title:d().string.isRequired};let v=e=>{let{open:t,onClose:n}=e,o=(0,l.usePathname)(),i=(0,f.Z)(e=>e.breakpoints.up("lg")),s=(0,r.jsx)(w.L,{sx:{height:"100%","& .simplebar-content":{height:"100%"},"& .simplebar-scrollbar:before":{background:"neutral.400"}},children:(0,r.jsxs)(m.Z,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,r.jsx)(m.Z,{component:"nav",sx:{flexGrow:1,px:2,py:3},children:(0,r.jsx)(g.Z,{component:"ul",spacing:.5,sx:{listStyle:"none",p:0,m:0},children:y.ev.map(e=>{let t=!!e.path&&o===e.path,n=e.path.startsWith("/")?e.path:"https://".concat(e.path);return(0,r.jsx)(S,{active:t,disabled:e.disabled,external:e.external,icon:e.icon,path:n,title:e.title},e.title)})})}),(0,r.jsx)(j.Z,{sx:{borderColor:"neutral.700"}})]})});return i?(0,r.jsx)(Z.ZP,{anchor:"left",open:!0,PaperProps:{sx:{background:"linear-gradient(0deg, #1391a5, #274685)",color:"common.white",width:230,top:81,border:"none"}},variant:"permanent",children:s}):(0,r.jsx)(Z.ZP,{anchor:"left",onClose:n,open:t,PaperProps:{sx:{backgroundColor:"neutral.800",color:"common.white",width:240}},sx:{zIndex:e=>e.zIndex.appBar+100},variant:"temporary",children:s})};v.propTypes={onClose:d().func,open:d().bool};var C=n(7148);let k=(0,s.ZP)("div")(e=>{let{theme:t}=e;return{display:"flex",flex:"1 1 auto",maxWidth:"100%",[t.breakpoints.up("lg")]:{paddingLeft:230}}}),P=(0,s.ZP)("div")({display:"flex",flex:"1 1 auto",flexDirection:"column",width:"100%"}),z=(o=e=>{let{children:t}=e,n=(0,l.usePathname)(),[o,s]=(0,i.useState)(!1),a=(0,i.useCallback)(()=>{o&&s(!1)},[o]);return(0,i.useEffect)(()=>{a()},[n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.t,{onNavOpen:()=>s(!0)}),(0,r.jsx)(v,{onClose:()=>s(!1),open:o}),(0,r.jsx)(k,{children:(0,r.jsx)(P,{children:t})})]})},e=>(0,r.jsx)(h,{children:(0,r.jsx)(o,{...e})}))},7148:function(e,t,n){n.d(t,{t:function(){return P}});var o=n(5893),r=n(5697),i=n.n(r),l=n(4502),s=n(2823),a=n(9396),c=n(2643),d=n(8396),u=n(7357),h=n(6447),p=n(4674),x=n(3219),f=n(9661),m=n(5861),g=n(7294),j=n(9332),Z=n(5724),w=n(7720),y=n(2096),b=n(3599),S=n(926),v=n(2241);let C=e=>{let{anchorEl:t,onClose:n,open:r}=e,i=(0,j.useRouter)(),l=(0,S.a)(),s=(0,g.useCallback)(()=>{null==n||n(),l.signOut(),i.push("/auth/login")},[n,l,i]);return(0,o.jsxs)(Z.ZP,{anchorEl:t,anchorOrigin:{horizontal:"left",vertical:"bottom"},onClose:n,open:r,PaperProps:{sx:{width:200}},children:[(0,o.jsx)(w.Z,{}),(0,o.jsx)(y.Z,{disablePadding:!0,dense:!0,sx:{p:"8px","& > *":{borderRadius:1}},children:(0,o.jsx)(b.Z,{onClick:s,children:"Sign out"})})]})};C.propTypes={anchorEl:i().any,onClose:i().func,open:i().bool.isRequired};var k=n(1644);let P=e=>{let{onNavOpen:t}=e,[n,r]=(0,g.useState)({hs_code:0,duty_calc:0}),i=(0,d.Z)(e=>e.breakpoints.up("lg")),j=function(){let e=(0,g.useRef)(null),[t,n]=(0,g.useState)(!1),o=(0,g.useCallback)(()=>{n(!0)},[]),r=(0,g.useCallback)(()=>{n(!1)},[]),i=(0,g.useCallback)(()=>{n(e=>!e)},[]);return{anchorRef:e,handleClose:r,handleOpen:o,handleToggle:i,open:t}}(),Z=(0,S.a)();async function w(){if(window.localStorage.getItem("authenticated")){let e=await Z.getWalletPoints();if(e&&!e.ok){let t=await e.json(),n=Error(t.error||"An error occurred");throw n.status=e.status,n}let t=await e.json();window.localStorage.setItem("points",JSON.stringify(t.result)),r(t.result)}}return(0,g.useEffect)(()=>{w();let e=window.location.protocol+"//"+window.location.host;window.addEventListener("message",t=>{if(t.origin===e){let e=window.localStorage.getItem("points");r(JSON.parse(e))}})},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.Z,{component:"header",sx:{backdropFilter:"blur(6px)",background:"linear-gradient(-45deg, #0e588d, #274685)",position:"sticky",left:{lg:"".concat(230,"px")},top:0,zIndex:e=>e.zIndex.appBar},children:(0,o.jsxs)(h.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",sx:{minHeight:64,px:2},children:[(0,o.jsxs)(h.Z,{alignItems:"center",direction:"row",children:[!i&&(0,o.jsx)(p.Z,{onClick:t,children:(0,o.jsx)(x.Z,{fontSize:"small",children:(0,o.jsx)(l.Z,{})})}),(0,o.jsx)(k.T,{})]}),"true"==window.localStorage.getItem("authenticated")&&(0,o.jsxs)(h.Z,{alignItems:"center",direction:"row",sx:{marginRight:"40px",cursor:"pointer"},children:[(0,o.jsxs)(h.Z,{direction:"row",alignItems:"center",children:[(0,o.jsx)(f.Z,{sx:{cursor:"pointer",height:30,width:30,background:"none"},children:(0,o.jsx)(x.Z,{fontSize:"small",children:(0,o.jsx)(a.Z,{})})}),(0,o.jsxs)(m.Z,{color:"#fff",variant:"overline",sx:{margin:"0 8px"},children:["HS Code Points: ",n.hs_code]})]}),(0,o.jsxs)(h.Z,{direction:"row",alignItems:"center",children:[(0,o.jsx)(f.Z,{sx:{cursor:"pointer",height:30,width:30,background:"none"},children:(0,o.jsx)(x.Z,{fontSize:"small",children:(0,o.jsx)(c.Z,{})})}),(0,o.jsxs)(m.Z,{color:"#fff",variant:"overline",sx:{margin:"0 8px"},children:["Duty Calculation Points: ",n.duty_calc]})]}),(0,o.jsxs)(h.Z,{onClick:j.handleOpen,ref:j.anchorRef,direction:"row",alignItems:"center",children:[(0,o.jsx)(f.Z,{sx:{cursor:"pointer",height:30,width:30,background:"none"},children:(0,o.jsx)(x.Z,{fontSize:"small",children:(0,o.jsx)(s.Z,{})})}),(0,o.jsx)(m.Z,{color:"#fff",variant:"overline",sx:{margin:"0 8px"},children:(0,v.Ms)()})]})]})]})}),(0,o.jsx)(C,{anchorEl:j.anchorRef.current,open:j.open,onClose:j.handleClose})]})};P.propTypes={onNavOpen:i().func}}}]);