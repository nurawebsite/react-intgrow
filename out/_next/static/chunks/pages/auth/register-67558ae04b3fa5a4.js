(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{3829:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return n(4952)}])},1644:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(5893),i=n(2734),o=n(1664),s=n.n(o),l=n(3795);let a=()=>{let e=(0,i.Z)();return e.palette.primary.main,(0,r.jsx)(l.Z,{component:s(),href:"/",children:(0,r.jsx)("img",{src:"/assets/logos/main-logo.png",alt:"intgrow_logo"})})}},926:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(7294),i=n(261);let o=()=>(0,r.useContext)(i.Vo)},7148:function(e,t,n){"use strict";n.d(t,{t:function(){return k}});var r=n(5893),i=n(5697),o=n.n(i),s=n(4502),l=n(2823),a=n(9396),c=n(2643),u=n(8396),d=n(7357),h=n(6447),x=n(4674),p=n(3219),m=n(9661),f=n(5861),g=n(7294),j=n(9332),w=n(5724),b=n(7720),Z=n(2096),v=n(3599),y=n(926),S=n(2241);let C=e=>{let{anchorEl:t,onClose:n,open:i}=e,o=(0,j.useRouter)(),s=(0,y.a)(),l=(0,g.useCallback)(()=>{null==n||n(),s.signOut(),o.push("/auth/login")},[n,s,o]);return(0,r.jsxs)(w.ZP,{anchorEl:t,anchorOrigin:{horizontal:"left",vertical:"bottom"},onClose:n,open:i,PaperProps:{sx:{width:200}},children:[(0,r.jsx)(b.Z,{}),(0,r.jsx)(Z.Z,{disablePadding:!0,dense:!0,sx:{p:"8px","& > *":{borderRadius:1}},children:(0,r.jsx)(v.Z,{onClick:l,children:"Sign out"})})]})};C.propTypes={anchorEl:o().any,onClose:o().func,open:o().bool.isRequired};var E=n(1644);let k=e=>{let{onNavOpen:t}=e,[n,i]=(0,g.useState)({hs_code:0,duty_calc:0}),o=(0,u.Z)(e=>e.breakpoints.up("lg")),j=function(){let e=(0,g.useRef)(null),[t,n]=(0,g.useState)(!1),r=(0,g.useCallback)(()=>{n(!0)},[]),i=(0,g.useCallback)(()=>{n(!1)},[]),o=(0,g.useCallback)(()=>{n(e=>!e)},[]);return{anchorRef:e,handleClose:i,handleOpen:r,handleToggle:o,open:t}}(),w=(0,y.a)();async function b(){if(window.localStorage.getItem("authenticated")){let e=await w.getWalletPoints();if(e&&!e.ok){let t=await e.json(),n=Error(t.error||"An error occurred");throw n.status=e.status,n}let t=await e.json();window.localStorage.setItem("points",JSON.stringify(t.result)),i(t.result)}}return(0,g.useEffect)(()=>{b();let e=window.location.protocol+"//"+window.location.host;window.addEventListener("message",t=>{if(t.origin===e){let e=window.localStorage.getItem("points");i(JSON.parse(e))}})},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{component:"header",sx:{backdropFilter:"blur(6px)",background:"linear-gradient(-45deg, #0e588d, #274685)",position:"sticky",left:{lg:"".concat(230,"px")},top:0,zIndex:e=>e.zIndex.appBar},children:(0,r.jsxs)(h.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",sx:{minHeight:64,px:2},children:[(0,r.jsxs)(h.Z,{alignItems:"center",direction:"row",children:[!o&&(0,r.jsx)(x.Z,{onClick:t,children:(0,r.jsx)(p.Z,{fontSize:"small",children:(0,r.jsx)(s.Z,{})})}),(0,r.jsx)(E.T,{})]}),"true"==window.localStorage.getItem("authenticated")&&(0,r.jsxs)(h.Z,{alignItems:"center",direction:"row",sx:{marginRight:"40px",cursor:"pointer"},children:[(0,r.jsxs)(h.Z,{direction:"row",alignItems:"center",children:[(0,r.jsx)(m.Z,{sx:{cursor:"pointer",height:30,width:30,background:"none"},children:(0,r.jsx)(p.Z,{fontSize:"small",children:(0,r.jsx)(a.Z,{})})}),(0,r.jsxs)(f.Z,{color:"#fff",variant:"overline",sx:{margin:"0 8px"},children:["HS Code Points: ",n.hs_code]})]}),(0,r.jsxs)(h.Z,{direction:"row",alignItems:"center",children:[(0,r.jsx)(m.Z,{sx:{cursor:"pointer",height:30,width:30,background:"none"},children:(0,r.jsx)(p.Z,{fontSize:"small",children:(0,r.jsx)(c.Z,{})})}),(0,r.jsxs)(f.Z,{color:"#fff",variant:"overline",sx:{margin:"0 8px"},children:["Duty Calculation Points: ",n.duty_calc]})]}),(0,r.jsxs)(h.Z,{onClick:j.handleOpen,ref:j.anchorRef,direction:"row",alignItems:"center",children:[(0,r.jsx)(m.Z,{sx:{cursor:"pointer",height:30,width:30,background:"none"},children:(0,r.jsx)(p.Z,{fontSize:"small",children:(0,r.jsx)(l.Z,{})})}),(0,r.jsx)(f.Z,{color:"#fff",variant:"overline",sx:{margin:"0 8px"},children:(0,S.Ms)()})]})]})]})}),(0,r.jsx)(C,{anchorEl:j.anchorRef.current,open:j.open,onClose:j.handleClose})]})};k.propTypes={onNavOpen:o().func}},4952:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(5893),i=n(9008),o=n.n(i),s=n(1664),l=n.n(s),a=n(9332),c=n(8482),u=n(6310),d=n(7357),h=n(6447),x=n(5861),p=n(3795),m=n(9272),f=n(3321),g=n(926),j=n(7148),w=n(7294);let b=w.forwardRef(function({title:e,titleId:t,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?w.createElement("title",{id:t},e):null,w.createElement("path",{d:"M3.53 2.47a.75.75 0 00-1.06 1.06l18 18a.75.75 0 101.06-1.06l-18-18zM22.676 12.553a11.249 11.249 0 01-2.631 4.31l-3.099-3.099a5.25 5.25 0 00-6.71-6.71L7.759 4.577a11.217 11.217 0 014.242-.827c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113z"}),w.createElement("path",{d:"M15.75 12c0 .18-.013.357-.037.53l-4.244-4.243A3.75 3.75 0 0115.75 12zM12.53 15.713l-4.243-4.244a3.75 3.75 0 004.243 4.243z"}),w.createElement("path",{d:"M6.75 12c0-.619.107-1.213.304-1.764l-3.1-3.1a11.25 11.25 0 00-2.63 4.31c-.12.362-.12.752 0 1.114 1.489 4.467 5.704 7.69 10.675 7.69 1.5 0 2.933-.294 4.242-.827l-2.477-2.477A5.25 5.25 0 016.75 12z"}))}),Z=w.forwardRef(function({title:e,titleId:t,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?w.createElement("title",{id:t},e):null,w.createElement("path",{d:"M12 15a3 3 0 100-6 3 3 0 000 6z"}),w.createElement("path",{fillRule:"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 010-1.113zM17.25 12a5.25 5.25 0 11-10.5 0 5.25 5.25 0 0110.5 0z",clipRule:"evenodd"}))}),v=()=>{let e=(0,a.useRouter)(),t=(0,g.a)(),[n,i]=(0,w.useState)(null),[s,v]=(0,w.useState)(null),[y,S]=(0,w.useState)(!1),C=(0,c.TA)({initialValues:{email:"",name:"",password:"",submit:null},validationSchema:u.Ry({email:u.Z_().email("Must be a valid email").max(255).required("Email is required"),name:u.Z_().max(255).required("Name is required"),password:u.Z_().max(255).required("Password is required")}),onSubmit:async(n,r)=>{try{let r=await t.signUp(n.email,n.name,n.password);if(!r.ok){let e=await r.json(),t=Error(e.message||"An error occurred");throw t.status=r.status,t}let o=await r.json();o&&o.result&&o.result.token&&(window.localStorage.setItem("access_token",o.result.token),window.localStorage.setItem("authenticated","true")),i(o),v(null),e.push("/")}catch(e){console.log("Error in registration"),r.setErrors({submit:e.message}),r.setSubmitting(!1)}}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o(),{children:(0,r.jsx)("title",{children:"Register | IntGrow Corp."})}),(0,r.jsx)(j.t,{onNavOpen:()=>setOpenNav(!0)}),(0,r.jsx)(d.Z,{sx:{flex:"1 1 auto",alignItems:"center",display:"flex",justifyContent:"center"},children:(0,r.jsx)(d.Z,{sx:{maxWidth:550,px:3,py:"100px",width:"100%"},children:(0,r.jsxs)("div",{children:[(0,r.jsxs)(h.Z,{spacing:1,sx:{mb:3},children:[(0,r.jsx)(x.Z,{variant:"h4",children:"Register"}),(0,r.jsxs)(x.Z,{color:"text.secondary",variant:"body2",children:["Already have an account? \xa0",(0,r.jsx)(p.Z,{component:l(),href:"/auth/login",underline:"hover",variant:"subtitle2",children:"Log in"})]})]}),(0,r.jsxs)("form",{noValidate:!0,onSubmit:C.handleSubmit,children:[(0,r.jsxs)(h.Z,{spacing:3,children:[(0,r.jsx)(m.Z,{error:!!(C.touched.name&&C.errors.name),fullWidth:!0,helperText:C.touched.name&&C.errors.name,label:"Name",name:"name",onBlur:C.handleBlur,onChange:C.handleChange,value:C.values.name}),(0,r.jsx)(m.Z,{error:!!(C.touched.email&&C.errors.email),fullWidth:!0,helperText:C.touched.email&&C.errors.email,label:"Email Address",name:"email",onBlur:C.handleBlur,onChange:C.handleChange,type:"email",value:C.values.email}),(0,r.jsxs)(h.Z,{sx:{position:"relative"},children:[(0,r.jsx)(m.Z,{error:!!(C.touched.password&&C.errors.password),fullWidth:!0,helperText:C.touched.password&&C.errors.password,label:"Password",name:"password",onBlur:C.handleBlur,onChange:C.handleChange,type:y?"text":"password",value:C.values.password}),(0,r.jsx)(f.Z,{onClick:()=>{S(!y)},sx:{position:"absolute",top:"0",right:"0",zIndex:"99"},children:y?(0,r.jsx)(Z,{}):(0,r.jsx)(b,{})})]})]}),C.errors.submit&&(0,r.jsx)(x.Z,{color:"error",sx:{mt:3},variant:"body2",children:C.errors.submit}),(0,r.jsx)(f.Z,{fullWidth:!0,size:"large",sx:{mt:3},type:"submit",variant:"contained",children:"Register"})]}),n&&(0,r.jsx)("span",{children:"Registration successful."})]})})})]})};v.getLayout=e=>(0,r.jsx)("div",{children:e});var y=v},7685:function(e,t,n){"use strict";var r=n(6092).Z.Symbol;t.Z=r},3589:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7685),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,l=r.Z?r.Z.toStringTag:void 0,a=function(e){var t=o.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[l]=n:delete e[l]),i},c=Object.prototype.toString,u=r.Z?r.Z.toStringTag:void 0,d=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":u&&u in Object(e)?a(e):c.call(e)}},3413:function(e,t){"use strict";var n="object"==typeof global&&global&&global.Object===Object&&global;t.Z=n},6092:function(e,t,n){"use strict";var r=n(3413),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.Z||i||Function("return this")();t.Z=o},7226:function(e,t){"use strict";t.Z=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},8533:function(e,t){"use strict";t.Z=function(e){return null!=e&&"object"==typeof e}},2714:function(e,t,n){"use strict";var r=n(3589),i=n(8533);t.Z=function(e){return"symbol"==typeof e||(0,i.Z)(e)&&"[object Symbol]"==(0,r.Z)(e)}}},function(e){e.O(0,[94,658,783,436,308,586,774,888,179],function(){return e(e.s=3829)}),_N_E=e.O()}]);