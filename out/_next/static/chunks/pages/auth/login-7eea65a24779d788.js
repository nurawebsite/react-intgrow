(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{2505:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return n(7995)}])},1644:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(5893),s=n(2734),i=n(1664),o=n.n(i),l=n(3795);let a=()=>{let e=(0,s.Z)();return e.palette.primary.main,(0,r.jsx)(l.Z,{component:o(),href:"/",children:(0,r.jsx)("img",{src:"/assets/logos/main-logo.png",alt:"intgrow_logo"})})}},926:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(7294),s=n(261);let i=()=>(0,r.useContext)(s.Vo)},7148:function(e,t,n){"use strict";n.d(t,{t:function(){return O}});var r=n(5893),s=n(5697),i=n.n(s),o=n(3806),l=n(4502),a=n(2823),c=n(8396),u=n(7357),d=n(6447),h=n(4674),p=n(3219),x=n(2613),f=n(8139),j=n(9661),m=n(7294),g=n(9332),b=n(4564),Z=n(5861),v=n(7720),w=n(4118),y=n(431),C=n(926),S=n(2241);let k=e=>{let{anchorEl:t,onClose:n,open:s}=e,i=(0,g.useRouter)(),o=(0,C.a)(),l=(0,m.useCallback)(()=>{null==n||n(),o.signOut(),i.push("/auth/login")},[n,o,i]);return(0,r.jsxs)(b.ZP,{anchorEl:t,anchorOrigin:{horizontal:"left",vertical:"bottom"},onClose:n,open:s,PaperProps:{sx:{width:200}},children:[(0,r.jsxs)(u.Z,{sx:{py:1.5,px:2},children:[(0,r.jsx)(Z.Z,{variant:"overline",children:"Account"}),(0,r.jsx)(Z.Z,{color:"text.secondary",variant:"body2",children:(0,S.Ms)()})]}),(0,r.jsx)(v.Z,{}),(0,r.jsx)(w.Z,{disablePadding:!0,dense:!0,sx:{p:"8px","& > *":{borderRadius:1}},children:(0,r.jsx)(y.Z,{onClick:l,children:"Sign out"})})]})};k.propTypes={anchorEl:i().any,onClose:i().func,open:i().bool.isRequired};var _=n(1644);let O=e=>{let{onNavOpen:t}=e,n=(0,c.Z)(e=>e.breakpoints.up("lg")),s=function(){let e=(0,m.useRef)(null),[t,n]=(0,m.useState)(!1),r=(0,m.useCallback)(()=>{n(!0)},[]),s=(0,m.useCallback)(()=>{n(!1)},[]),i=(0,m.useCallback)(()=>{n(e=>!e)},[]);return{anchorRef:e,handleClose:s,handleOpen:r,handleToggle:i,open:t}}();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{component:"header",sx:{backdropFilter:"blur(6px)",background:"linear-gradient(-45deg, #0e588d, #274685)",position:"sticky",left:{lg:"".concat(280,"px")},top:0,zIndex:e=>e.zIndex.appBar},children:(0,r.jsxs)(d.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:2,sx:{minHeight:64,px:2},children:[(0,r.jsxs)(d.Z,{alignItems:"center",direction:"row",spacing:2,children:[!n&&(0,r.jsx)(h.Z,{onClick:t,children:(0,r.jsx)(p.Z,{fontSize:"small",children:(0,r.jsx)(l.Z,{})})}),(0,r.jsx)(_.T,{})]}),(0,r.jsxs)(d.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,r.jsx)(x.Z,{title:"Notifications",children:(0,r.jsx)(h.Z,{children:(0,r.jsx)(f.Z,{badgeContent:4,color:"success",variant:"dot",children:(0,r.jsx)(p.Z,{fontSize:"small",children:(0,r.jsx)(o.Z,{})})})})}),(0,r.jsx)(j.Z,{onClick:s.handleOpen,ref:s.anchorRef,sx:{cursor:"pointer",height:40,width:40},children:(0,r.jsx)(p.Z,{fontSize:"small",children:(0,r.jsx)(a.Z,{})})})]})]})}),(0,r.jsx)(k,{anchorEl:s.anchorRef.current,open:s.open,onClose:s.handleClose})]})};O.propTypes={onNavOpen:i().func}},7995:function(e,t,n){"use strict";n.r(t);var r=n(5893),s=n(7294),i=n(9008),o=n.n(i),l=n(1664),a=n.n(l),c=n(9332),u=n(8482),d=n(6310),h=n(7357),p=n(6447),x=n(5861),f=n(3795),j=n(6515),m=n(3321),g=n(926),b=n(7148),Z=n(2241),v=n(261);let w=()=>{let e=(0,c.useRouter)(),t=(0,g.a)(),[n,i]=(0,s.useState)("email"),[l,w]=(0,s.useState)(null),[y,C]=(0,s.useState)(null),[S,k]=(0,s.useReducer)(v.I6,v.E3),_=(0,u.TA)({initialValues:{email:"",password:"",submit:null},validationSchema:d.Ry({email:d.Z_().email("Must be a valid email").max(255).required("Email is required"),password:d.Z_().max(255).required("Password is required")}),onSubmit:async(n,r)=>{try{let r=await t.signIn(n.email,n.password);if(!r.ok){let e=await r.json(),t=Error(e.error||"An error occurred");throw t.status=r.status,t}let s=await r.json();window.localStorage.setItem("authenticated","true"),window.localStorage.setItem("access_token",s.result.token);let i={id:s.result.id,name:s.result.first_name,email:s.result.email};k({type:Z.xm.SIGN_IN,payload:i}),w(s),e.push("/")}catch(e){console.log("Error in login"),r.setStatus({success:!1}),r.setErrors({submit:e.message}),r.setSubmitting(!1)}}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o(),{children:(0,r.jsx)("title",{children:"Login | IntGrow Corp."})}),(0,r.jsx)(b.t,{onNavOpen:()=>setOpenNav(!0)}),(0,r.jsx)(h.Z,{sx:{backgroundColor:"background.paper",flex:"1 1 auto",alignItems:"center",display:"flex",justifyContent:"center"},children:(0,r.jsx)(h.Z,{sx:{maxWidth:550,px:3,py:"100px",width:"100%"},children:(0,r.jsxs)("div",{children:[(0,r.jsxs)(p.Z,{spacing:1,sx:{mb:3},children:[(0,r.jsx)(x.Z,{variant:"h4",children:"Login"}),(0,r.jsxs)(x.Z,{color:"text.secondary",variant:"body2",children:["Don't have an account? \xa0",(0,r.jsx)(f.Z,{component:a(),href:"/auth/register",underline:"hover",variant:"subtitle2",children:"Register"})]})]}),(0,r.jsxs)("form",{noValidate:!0,onSubmit:_.handleSubmit,children:[(0,r.jsxs)(p.Z,{spacing:3,children:[(0,r.jsx)(j.Z,{error:!!(_.touched.email&&_.errors.email),fullWidth:!0,helperText:_.touched.email&&_.errors.email,label:"Email Address",name:"email",onBlur:_.handleBlur,onChange:_.handleChange,type:"email",value:_.values.email}),(0,r.jsx)(j.Z,{error:!!(_.touched.password&&_.errors.password),fullWidth:!0,helperText:_.touched.password&&_.errors.password,label:"Password",name:"password",onBlur:_.handleBlur,onChange:_.handleChange,type:"password",value:_.values.password})]}),_.errors.submit&&(0,r.jsx)(x.Z,{color:"error",sx:{mt:3},variant:"body2",children:_.errors.submit}),(0,r.jsx)(m.Z,{fullWidth:!0,size:"large",sx:{mt:3},type:"submit",variant:"contained",children:"Log In"})]}),l&&(0,r.jsx)("span",{children:"Login successful."})]})})})]})};w.getLayout=e=>(0,r.jsx)("div",{children:e}),t.default=w},7685:function(e,t,n){"use strict";var r=n(6092).Z.Symbol;t.Z=r},3589:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7685),s=Object.prototype,i=s.hasOwnProperty,o=s.toString,l=r.Z?r.Z.toStringTag:void 0,a=function(e){var t=i.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var s=o.call(e);return r&&(t?e[l]=n:delete e[l]),s},c=Object.prototype.toString,u=r.Z?r.Z.toStringTag:void 0,d=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":u&&u in Object(e)?a(e):c.call(e)}},3413:function(e,t){"use strict";var n="object"==typeof global&&global&&global.Object===Object&&global;t.Z=n},6092:function(e,t,n){"use strict";var r=n(3413),s="object"==typeof self&&self&&self.Object===Object&&self,i=r.Z||s||Function("return this")();t.Z=i},7226:function(e,t){"use strict";t.Z=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},8533:function(e,t){"use strict";t.Z=function(e){return null!=e&&"object"==typeof e}},2714:function(e,t,n){"use strict";var r=n(3589),s=n(8533);t.Z=function(e){return"symbol"==typeof e||(0,s.Z)(e)&&"[object Symbol]"==(0,r.Z)(e)}}},function(e){e.O(0,[123,664,783,549,703,515,774,888,179],function(){return e(e.s=2505)}),_N_E=e.O()}]);